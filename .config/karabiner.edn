 {
  :templates {
             :alfred "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"%s\" in workflow \"%s\" with argument \"%s\"'"
             :km "osascript -e 'tell application \"Keyboard Maestro Engine\" to do script \"%s\"'"
             :open "open \"%s\""
             }
  
  :layers {
  :caps-mode {:key :caps_lock :alone {:key :escape}}
  :tab-mode {:key :tab :alone {:key :tab}}
   }
   :simlayers {
  :w-mode {:key :w} ; mode for opening files and programs
   }


  :main

  [{:des "main profile"
    :rules [; some comment
            ;; [:left_command  :left_command nil  {:alone :!Cd}]
                ;;   [{:key :spacebar :modi :left_shift} [:spacebar :0 :spacebar]]
                  ; remap   
            ]}
   {:des "capslock layer"
    :rules [; some comment
            :caps-mode
            ; VIM MOVE COMMANDS WHEN CAPSLOCK IS PRESSED
            [:##j :##down_arrow]
            [:##h :##left_arrow] ; ## means you can press things together
            [:##k :##up_arrow]
            [:##l :##right_arrow]


            ; Copy/paste/delete/undo commands 
            [:##i :!Cz] ; undo
            [:##o :!Cc] ; copy
            [:##p :!Cv] ; paste
            [:##u :delete_or_backspace] ;





            ; RECTANGLE APP COMMANDS
            [:m :!OTreturn_or_enter] ; Rectangle maximize
            [:comma :!OTleft_arrow] ;left half
            [:period :!OTright_arrow] ; right half
            [:q :!OTd] ; Left third
            [:w :!OTf] ; Middle third
            [:e :!OTg] ; Right third
            [:r :!OTe] ; Right third
            [:t :!OTt] ; Right third



            ; NUMBER KEYS ARE SHIFT + NUMBER
            [:1 :!S1]
            [:2 :!S2]
            [:3 :!S3]
            [:4 :!S4]
            [:5 :!S5]
            [:6 :!S6]
            [:7 :!S7]
            [:8 :!S8]
            [:9 :!S9]
            [:0 :!S0]

            ]}
  {:des "tab layer"
    :rules [; some comment
            :tab-mode
            ; Large VIM MOVEMENTS
            [:##j [:down_arrow :down_arrow :down_arrow :down_arrow :down_arrow]]
            [:##h [:left_arrow :left_arrow :left_arrow :left_arrow :left_arrow]]
            [:##k [:up_arrow :up_arrow :up_arrow :up_arrow :up_arrow]]
            [:##l [:right_arrow :right_arrow :right_arrow :right_arrow :right_arrow]]

            [:i :!OSCr] ; add clipboard to inbox note
            [:o :!OSCt] ; run tomatobar.  
            ]}
   {:des "wkey (apps)"
         :rules [:w-mode
                 [:r [:km "open: Fantastical"]]
                 [:p [:km "open: Keyboard Maestro"]]
                 [:p [:km "open: Postgres"]]
                 [:f [:km "open: Finder"]]
                 [:l [:km "open: VS Code"]]
                 [:c [:km "open: Spotify"]]
                 [:j [:km "open: Warp"]]
                 [:o [:km "open: Obsidian"]]
                 [:k [:km "open: Chrome"]]
                 [:semicolon [:km "open: ChatGPT"]]
                 [:h [:km "open: Teams"]]
                 
            
            ]}
  ]
  }
;; !  | means mandatory
;; #  | means optional
;; C  | left_command
;; T  | left_control
;; O  | left_option
;; S  | left_shift
;; F  | fn
;; Q  | right_command
;; W  | right_control
;; E  | right_option
;; R  | right_shift
;; !! | mandatory command + control + optional + shift (hyper)
;; ## | optional any

  